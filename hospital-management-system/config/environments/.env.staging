# Enterprise Hospital Management System - Staging Environment
NODE_ENV=production
APP_NAME="Hospital Management System"
APP_VERSION=1.0.0
PORT=3001
API_VERSION=v1
FRONTEND_URL=https://staging.hospital.com
API_URL=https://staging-api.hospital.com

# Database Configuration
DATABASE_URL="postgresql://hms_staging_user:StagingPassword123!@staging-db.hospital.com:5432/hms_staging_db?connection_limit=20&pool_timeout=30&connect_timeout=10&sslmode=require"
DATABASE_TEST_URL="postgresql://hms_staging_test_user:StagingTestPassword123!@staging-db.hospital.com:5432/hms_staging_test_db?connection_limit=5&pool_timeout=10&sslmode=require"
PRISMA_DATABASE_URL="postgresql://hms_staging_user:StagingPassword123!@staging-db.hospital.com:5432/hms_staging_db?sslmode=require"
SHADOW_DATABASE_URL="postgresql://hms_staging_shadow_user:StagingShadowPassword123!@staging-db.hospital.com:5432/hms_staging_shadow_db?sslmode=require"

# Database Pooling
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000

# Redis Configuration
REDIS_HOST=staging-redis.hospital.com
REDIS_PORT=6379
REDIS_PASSWORD=StagingRedisPassword123!
REDIS_DB=0
REDIS_CONNECTION_TIMEOUT=5000
REDIS_COMMAND_TIMEOUT=3000
REDIS_CACHE_DB=0
REDIS_SESSION_DB=1
REDIS_QUEUE_DB=2
REDIS_RATE_LIMIT_DB=3

# JWT Configuration
JWT_SECRET="staging-super-secret-jwt-key-change-in-production-256-bit-minimum"
JWT_REFRESH_SECRET="staging-super-secret-refresh-key-change-in-production-256-bit-minimum"
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER="hospital-management-system"
JWT_AUDIENCE="hms-users"

# Security Configuration
BCRYPT_ROUNDS=12
SESSION_SECRET="staging-session-secret-key-for-production"
ENCRYPTION_KEY="staging-256-bit-encryption-key-in-hex-format"
CSRF_SECRET="staging-csrf-protection-secret-key"

# Rate Limiting
RATE_LIMIT_TTL=60000
RATE_LIMIT_LIMIT=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# CORS Configuration
CORS_ORIGIN=https://staging.hospital.com,https://staging-api.hospital.com
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,X-API-Key,X-CSRF-Token

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=staging@hospital.com
SMTP_PASS=staging-app-password
SMTP_FROM=noreply@staging.hospital.com
SMTP_NAME="HMS Staging"
EMAIL_TEMPLATE_DIR=./src/templates/emails
EMAIL_BCC_ADMIN=staging-admin@hospital.com

# SMS Configuration (Twilio)
TWILIO_ACCOUNT_SID=your-staging-twilio-account-sid
TWILIO_AUTH_TOKEN=your-staging-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_MESSAGING_SERVICE_ID=your-staging-messaging-service-id

# File Upload Configuration
UPLOAD_DESTINATION=./uploads
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,pdf,doc,docx,txt
UPLOAD_MAX_FILES=5
UPLOAD_SECURE_PATH=/secure/uploads
UPLOAD_PUBLIC_PATH=/public/uploads

# External API Keys
OPENAI_API_KEY=your-staging-openai-api-key
OPENAI_ORG_ID=your-staging-openai-org-id
STRIPE_SECRET_KEY=your-staging-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=your-staging-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=your-staging-stripe-webhook-secret
TALLY_API_KEY=your-staging-tally-api-key
TALLY_COMPANY_ID=your-staging-tally-company-id
TALLY_BASE_URL=https://api.tally.so

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_ERROR_FILE=./logs/error.log
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=10
LOG_DATE_FORMAT=YYYY-MM-DD HH:mm:ss
LOG_FORMAT=json
LOG_INCLUDE_TIMESTAMP=true
LOG_INCLUDE_LEVEL=true
LOG_INCLUDE_CONTEXT=true

# Security & Compliance
HIPAA_ENABLED=true
HIPAA_AUDIT_LOGGING=true
HIPAA_DATA_RETENTION_DAYS=3650
HIPAA_ACCESS_LOGGING=true
HIPAA_ENCRYPTION_AT_REST=true
HIPAA_ENCRYPTION_IN_TRANSIT=true

GDPR_ENABLED=true
GDPR_DATA_SUBJECT_RIGHTS=true
GDPR_CONSENT_MANAGEMENT=true
GDPR_DATA_PORTABILITY=true
GDPR_RIGHT_TO_BE_FORGOTTEN=true

AUDIT_LOG_ENABLED=true
AUDIT_LOG_FILE=./logs/audit.log
AUDIT_LOG_LEVEL=all
AUDIT_LOG_RETENTION_DAYS=2555

DATA_RETENTION_ENABLED=true
DATA_RETENTION_SCHEDULE=0 3 * * *
DATA_RETENTION_AUDIT_LOG=true

# Monitoring & Health Checks
PROMETHEUS_PORT=9090
GRAFANA_PORT=3002
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
METRICS_ENABLED=true
METRICS_PATH=/metrics

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true
BACKUP_STORAGE=./backups
BACKUP_NOTIFICATION_EMAIL=staging-admin@hospital.com

# Caching Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_CHECK_PERIOD=600
CACHE_STALE_TTL=0

# Queue Configuration (BullMQ)
QUEUE_DEFAULT_CONCURRENCY=10
QUEUE_MAX_RETRIES=3
QUEUE_REMOVE_ON_COMPLETE=50
QUEUE_REMOVE_ON_FAIL=25
QUEUE_STALLED_INTERVAL=30000
QUEUE_MAX_STALLED_COUNT=1

# Development Settings
DEBUG_MODE=false
DEVELOPER_MODE=false
SWAGGER_ENABLED=true
SWAGGER_PATH=/api-docs
GRAPHQL_ENABLED=false
GRAPHQL_PATH=/graphql

# Error Handling
ERROR_HANDLING_ENABLED=true
ERROR_REPORTING_ENABLED=true
ERROR_STACK_TRACE_ENABLED=false
ERROR_NOTIFICATION_ENABLED=true
ERROR_NOTIFICATION_EMAIL=staging-devops@hospital.com

# Feature Flags
FEATURE_TELEHEALTH_ENABLED=false
FEATURE_AI_DIAGNOSTICS_ENABLED=false
FEATURE_LAB_INTEGRATION_ENABLED=true
FEATURE_PHARMACY_INTEGRATION_ENABLED=true
FEATURE_BILLING_INTEGRATION_ENABLED=true
FEATURE_APPOINTMENT_REMINDERS_ENABLED=true
FEATURE_REPORTING_ENABLED=true
FEATURE_MULTI_TENANT_ENABLED=false

# Performance Optimization
PERFORMANCE_PROFILING_ENABLED=false
PERFORMANCE_SAMPLING_RATE=0.1
PERFORMANCE_SLOW_QUERY_THRESHOLD=5000
PERFORMANCE_MEMORY_LIMIT=512MB
PERFORMANCE_CPU_LIMIT=90%

# Infrastructure
KUBERNETES_ENABLED=true
DOCKER_ENABLED=true
HELM_ENABLED=true
ISTIO_ENABLED=true
CONTAINER_PORT=3001
CONTAINER_HOST=0.0.0.0
CONTAINER_WORKERS=2
CONTAINER_MAX_MEMORY=512MB