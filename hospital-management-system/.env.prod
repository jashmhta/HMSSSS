# HMS Production Environment Configuration
# This file contains all environment variables for production deployment

# Database Configuration
POSTGRES_DB=hms_db
POSTGRES_USER=hms_app
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_IN_PRODUCTION
DATABASE_URL=postgresql://hms_app:CHANGE_THIS_STRONG_PASSWORD_IN_PRODUCTION@postgres:5432/hms_db

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_STRONG_REDIS_PASSWORD_IN_PRODUCTION
REDIS_URL=redis://:CHANGE_THIS_STRONG_REDIS_PASSWORD_IN_PRODUCTION@redis:6379

# JWT Configuration
JWT_SECRET=CHANGE_THIS_TO_A_VERY_STRONG_RANDOM_SECRET_64_CHARS_MINIMUM
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12

# Application Configuration
NODE_ENV=production
API_PORT=3000
FRONTEND_URL=https://hms.local
CORS_ORIGIN=https://hms.local
LOG_LEVEL=info

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# Security
SESSION_SECRET=CHANGE_THIS_TO_ANOTHER_STRONG_RANDOM_SECRET

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_ADMIN_PASSWORD=CHANGE_THIS_TO_A_STRONG_GRAFANA_PASSWORD

# Backup Configuration
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
S3_BUCKET=your-hms-backups-bucket
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# Email Configuration (Optional - for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-production-email@domain.com
SMTP_PASS=your-production-app-password

# External API Keys (Replace with actual values)
OPENAI_API_KEY=your-production-openai-api-key
STRIPE_SECRET_KEY=your-production-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=your-production-stripe-publishable-key

# File Upload Configuration
UPLOAD_DESTINATION=/app/uploads
MAX_FILE_SIZE=104857600
FILE_RETENTION_DAYS=365

# SSL Configuration
SSL_CERT_PATH=/etc/nginx/ssl/hms.local.crt
SSL_KEY_PATH=/etc/nginx/ssl/hms.local.key
API_SSL_CERT_PATH=/etc/nginx/ssl/api.hms.local.crt
API_SSL_KEY_PATH=/etc/nginx/ssl/api.hms.local.key

# Docker Network
DOCKER_NETWORK=hms_network
SUBNET=172.20.0.0/16

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=60s

# Resource Limits
BACKEND_MEMORY_LIMIT=1g
BACKEND_CPU_LIMIT=1.0
FRONTEND_MEMORY_LIMIT=512m
FRONTEND_CPU_LIMIT=0.5
POSTGRES_MEMORY_LIMIT=2g
POSTGRES_CPU_LIMIT=1.0
REDIS_MEMORY_LIMIT=512m
REDIS_CPU_LIMIT=0.5

# Scaling Configuration
MIN_BACKEND_INSTANCES=2
MAX_BACKEND_INSTANCES=10
MIN_FRONTEND_INSTANCES=2
MAX_FRONTEND_INSTANCES=5

# Logging Configuration
LOG_MAX_SIZE=100m
LOG_MAX_FILES=10
LOG_COMPRESS=true

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_MEMORY=512mb

# Database Connection Pool
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000

# Redis Connection Pool
REDIS_POOL_MIN=5
REDIS_POOL_MAX=20
REDIS_POOL_IDLE_TIMEOUT=30000

# Emergency Contact (for alerts)
EMERGENCY_EMAIL=emergency@hospital.com
EMERGENCY_PHONE=+1-555-0123

# Compliance Settings
DATA_RETENTION_YEARS=7
AUDIT_LOG_RETENTION_DAYS=2555
BACKUP_ENCRYPTION_KEY=CHANGE_THIS_TO_A_STRONG_ENCRYPTION_KEY

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=true
SLOW_QUERY_THRESHOLD=1000
MEMORY_MONITORING_ENABLED=true
CPU_MONITORING_ENABLED=true

# Alert Thresholds
ALERT_CPU_THRESHOLD=80
ALERT_MEMORY_THRESHOLD=85
ALERT_DISK_THRESHOLD=90
ALERT_ERROR_RATE_THRESHOLD=5

# Maintenance Windows
MAINTENANCE_WINDOW_START=02:00
MAINTENANCE_WINDOW_END=04:00
MAINTENANCE_TIMEZONE=UTC